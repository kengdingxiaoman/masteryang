# JAVA开发手册

## 概述
本文针对所有使用JAVA语言开发的开发人员

## 命名风格

- 代码中的命名均不能以下划线或美元符号开始，也不能以下划线或美元符号结束。
- 代码中的命名严禁使用拼音与英文混合的方式，避免使用拼音命名，更不允许使用拼音首字母拼接的结果来命名<br/>
  例如：int cbhs  表示的是'成本核算'，这样是绝对不可以的
- 类名使用 UpperCamelCase 风格，必须遵从驼峰形式，但以下情形例外： DO / BO / DTO / VO / AO
- 方法名、参数名、成员变量、局部变量都统一使用 lowerCamelCase 风格，必须遵从驼峰形式。
- 常量命名全部大写，单词间用下划线隔开，力求语义表达完整清楚，不要嫌名字长
- 抽象类命名使用 Abstract 或 Base 开头； 异常类命名使用 Exception 结尾； 测试类命名以它要测试的类的名称开始，以 Test 结尾。
- 中括号是数组类型的一部分，数组定义如下： <font color="blue">String[]</font> args;不应使用 String args[]的方式来定义
- POJO 类中布尔类型的变量，都不要加 is，否则部分框架解析会引起序列化错误<br/>
  例如：定义为基本数据类型 Boolean isDeleted； 的属性，它的方法也是 isDeleted()，RPC框架在反向解析的时候，"以为"对应的属性名称是 deleted，导致属性获取不到，进而抛出异常
- 包名统一使用小写，点分隔符之间有且仅有一个自然语义的英语单词。包名统一使用单数形式，但是类名如果有复数含义，类名可以使用复数形式。
- 如果使用到了设计模式，建议在类名中体现出具体模式<br/>
  例如：XXXXFactory, XXXXProxy等
- 接口类中的方法和属性不要加任何修饰符号(public 也不要加)，保持代码的简洁性，并加上有效的 Javadoc 注释。尽量不要在接口里定义变量，如果一定要定义变量，肯定是与接口方法相关，并且是整个应用的基础常量。
- 接口和实现类的命名使用如下规则：<br/>
对于 Service 和 DAO 类，基于 SOA 的理念，暴露出来的服务一定是接口，内部的实现类用 Impl 的后缀与接口区别，例如：PayService, PayServiceImpl, UserBaseDao, UserBaseDaoImpl
- 枚举类名带上 Enum 后缀，枚举成员名称需要全大写，单词间用下划线隔开
- 各层命名规约：
  1. Service/DAO 层方法命名约定<br/>
a. 获取单个对象的方法用 get 做前缀<br/>
b. 获取多个对象的方法用 finds 做前缀<br/>
b. 分页形式获取多个对象的方法用 queryPaged 做前缀<br/>
c. 获取统计值的方法用 count, sum 做前缀<br/>
d. 插入的方法用 insert 做前缀<br/>
e. 删除的方法用 delete 做前缀<br/>
f. 修改的方法用 update 做前缀<br/>

  2. 领域模型命名规约<br/>
a. 数据对象： xxxDO， xxx 即为数据表名，对象属性和数据库表中字段一一对应<br/>
b. 数据传输对象： xxxDTO， xxx为业务领域相关的名称<br/>
c. 展示对象： xxxVO， 用来封装展示到页面的元素<br/>
d. 领域对象：xxx，xxx对应数据表名，做为领域对象
e. POJO 是 DO/DTO/BO/VO 的统称，禁止命名成 xxxPOJO

## 常量定义
- 不允许任何魔数(magic number, 即未经定义的常量)直接出现在代码中<br/>
例如：String num = 5;
- long 或者 Long 初始赋值时，必须使用大写的 L，不能是小写的 l，小写容易跟数字 1 混淆，造成误解<br/>
- 不要使用一个常量类维护所有常量，应该按常量功能进行归类，分开维护
- 如果变量值仅在一个范围内变化，且带有名称之外的延伸属性，定义为枚举类，例如星期几

## 代码格式
- 大括号的使用约定：
  1. 如果是大括号内为空，也需要换行
  2. 左大括号前不换行，左大括号后换行
  3. 右大括号前换行，右大括号后还有 else 等代码则不换行； 表示终止的右大括号后必须换行
- 左小括号和字符之间不出现空格；同样，右小括号和字符之间也不出现空格
- if/for/while/switch/do 等保留字与括号之间都必须加空格
- 任何二目、 三目运算符的左右两边都需要加一个空格
- 缩进采用 4 个空格，必须使用缩进
- 单行字符数限制不超过 120 个，超出需要换行，换行时遵循如下原则：
  1. 第二行相对第一行缩进 4 个空格，从第三行开始，不再继续缩进，参考示例
  2. 运算符与下文一起换行
  3. 方法调用的点符号与下文一起换行
  4. 在多个参数超长， 在逗号后换行
  5. 在括号前不要换行
- 方法参数在定义和传入时，多个参数逗号后边必须加空格
- IDE 的 text file encoding 设置为 UTF-8; IDE 中文件的换行符使用 Unix 格式，不要使用 windows 格式
- 没有必要增加若干空格来使某一行的字符与上一行对应位置的字符对齐
- 方法体内的执行语句组、变量的定义语句组、不同的业务逻辑之间或者不同的语义之间插入一个空行。相同业务逻辑和语义之间不需要插入空行
